# ============================================================================
# SECURED AJO - ENVIRONMENT VARIABLES
# ============================================================================
# 
# ðŸ“– Full documentation: See ENV_SETUP.md for detailed explanations
#
# ðŸš¨ REQUIRED VARIABLES (App won't work without these):
#    - DATABASE_URL
#    - JWT_SECRET
#
# ðŸŸ¡ RECOMMENDED VARIABLES (App works better with these):
#    - NODE_ENV
#    - NEXT_PUBLIC_APP_NAME
#    - NEXT_PUBLIC_APP_URL
#
# ðŸŸ¢ OPTIONAL VARIABLES (Enable specific features):
#    - Paystack keys (for payments)
#    - Email config (for OTP emails, otherwise logged to console)
#    - SMS config (for SMS notifications)
#    - Feature flags
#    - Rate limiting
#
# ============================================================================

# ============================================================================
# ðŸ”´ REQUIRED - Application Won't Work Without These
# ============================================================================

# Database Configuration (PostgreSQL)
# ----------------------------------------------------------------------------
# ðŸ”´ REQUIRED - The application needs a PostgreSQL database to store data
# Format: postgresql://username:password@host:port/database
#
# Examples:
#   Supabase: postgresql://postgres:your_password@db.yourproject.supabase.co:5432/postgres
#   Local:    postgresql://ajo_user:ajo_password123@localhost:5432/ajo_secure
#
# Setup Instructions:
#   1. Supabase (easiest): 
#      - Go to https://supabase.com and create a free project
#      - Go to Settings â†’ Database â†’ Copy "Connection String (URI)"
#      - Run database/schema.sql in SQL Editor
#   2. Local PostgreSQL:
#      - Install PostgreSQL
#      - Create database: createdb ajo_secure
#      - Import schema: psql ajo_secure < database/schema.sql
#      - Use: postgresql://username:password@localhost:5432/ajo_secure
DATABASE_URL=postgresql://user:password@db.supabase.co:5432/postgres

# JWT Secret Key
# ----------------------------------------------------------------------------
# ðŸ”´ REQUIRED - Used to sign authentication tokens
# SECURITY: Must be at least 32 characters long
# IMPORTANT: Generate a new random secret, don't use this example!
#
# Generate a secure secret:
#   openssl rand -base64 32
#   OR visit: https://generate-secret.vercel.app/32
JWT_SECRET=your-super-secret-jwt-key-min-32-characters-change-this-in-production

# ============================================================================
# ðŸŸ¡ RECOMMENDED - Application Works Better With These
# ============================================================================

# Application Settings
# ----------------------------------------------------------------------------
NEXT_PUBLIC_APP_NAME=Ajo Secure
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Environment Mode
# ----------------------------------------------------------------------------
# Values: development | production
# Affects: SSL settings, cookie security, error verbosity
NODE_ENV=development

# JWT Token Expiry
# ----------------------------------------------------------------------------
# How long tokens remain valid
# Format: 15m (minutes), 1h (hours), 7d (days)
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# ============================================================================
# ðŸŸ¢ OPTIONAL - Payment Integration (Paystack)
# ============================================================================
# Required only if you want payment functionality
# Get keys from: https://paystack.com â†’ Settings â†’ API Keys
# Use test keys (sk_test_*, pk_test_*) for development
# Use live keys (sk_live_*, pk_live_*) for production

PAYSTACK_SECRET_KEY=sk_test_your_paystack_secret_key_here
NEXT_PUBLIC_PAYSTACK_PUBLIC_KEY=pk_test_your_paystack_public_key_here

# ============================================================================
# ðŸŸ¢ OPTIONAL - Email Configuration (For OTP Delivery)
# ============================================================================
# Optional in development - OTPs will be logged to console without this
# Required in production for sending verification emails
#
# Gmail Setup:
#   1. Enable 2-factor authentication on your Google account
#   2. Generate App Password: Google Account â†’ Security â†’ App passwords
#   3. Use the generated password (not your Gmail password)

EMAIL_FROM=noreply@ajosecure.com
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password

# ============================================================================
# ðŸŸ¢ OPTIONAL - SMS Configuration (Twilio)
# ============================================================================
# For SMS notifications and OTP delivery via SMS
# Get credentials from: https://www.twilio.com/console

TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================================================
# ðŸŸ¢ OPTIONAL - Security & Features
# ============================================================================

# Cron Job Security
# ----------------------------------------------------------------------------
# Secret key to protect automated scheduled tasks
# Generate with: openssl rand -base64 32
CRON_SECRET=your-secure-cron-secret-key-change-in-production

# Feature Flags
# ----------------------------------------------------------------------------
# Enable/disable specific features (true/false)
NEXT_PUBLIC_ENABLE_KYC=true
NEXT_PUBLIC_ENABLE_BVN_VERIFICATION=true
NEXT_PUBLIC_ENABLE_EMAIL_VERIFICATION=true
NEXT_PUBLIC_ENABLE_PHONE_VERIFICATION=true

# Rate Limiting
# ----------------------------------------------------------------------------
# Prevent abuse and brute force attacks
# RATE_LIMIT_WINDOW_MS: Time window in milliseconds (default: 900000 = 15 minutes)
# RATE_LIMIT_MAX_REQUESTS: Max requests per window (default: 100)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# ðŸ“ SETUP NOTES
# ============================================================================
#
# Quick Start (Minimum Required):
#   1. Copy this file: cp .env.local.example .env.local
#   2. Set DATABASE_URL with your PostgreSQL connection string
#   3. Generate and set JWT_SECRET (min 32 chars)
#   4. Run: npm install && npm run dev
#
# Full Documentation:
#   See ENV_SETUP.md for complete setup guide and troubleshooting
#
# Getting 500 Errors?
#   Most likely DATABASE_URL or JWT_SECRET is not set correctly
#   Check: ls .env.local (file should exist)
#   Check: cat .env.local | grep DATABASE_URL
#
# ============================================================================
